# 방송 3법 QnA 봇 사용 가이드

## 📚 프로젝트 소개
방송 3법 관련 PDF 문서를 기반으로 질의응답을 제공하는 AI 챗봇입니다.

## 🚀 실행 방법

### 1. 앱 실행
```bash
streamlit run app.py
```

### 2. 브라우저에서 자동으로 열립니다
- 기본 주소: http://localhost:8501

## 💡 사용 방법

### 질문하기
1. 메인 화면의 텍스트 입력창에 질문을 입력합니다
2. "질문하기" 버튼을 클릭합니다
3. AI가 PDF 문서를 기반으로 답변을 생성합니다
4. 답변과 함께 출처(페이지 번호)가 표시됩니다

### 사이드바 기능
- **🔄 시스템 초기화**: PDF 파일을 새로 추가하거나 변경한 경우 사용
- **🗑️ 대화 기록 삭제**: 현재까지의 대화 기록을 모두 삭제

### 질문 예시
- "방송 3법의 주요 내용은 무엇인가요?"
- "방송법 개정안의 핵심은?"
- "공영방송의 역할에 대해 설명해주세요"

## 📂 파일 구조

```
vibe_qna5/
├── app.py                      # Streamlit 메인 애플리케이션
├── requirements.txt            # Python 패키지 목록
├── data/                       # PDF 문서 저장 폴더
│   └── *.pdf                   # 방송 3법 관련 PDF 파일들
├── utils/                      # 유틸리티 모듈
│   ├── __init__.py
│   ├── document_loader.py      # PDF 로딩 및 벡터 DB 구축
│   └── qa_chain.py             # QA 체인 (RAG 파이프라인)
├── .streamlit/                 # Streamlit 설정
│   └── secrets.toml            # API 키 저장 (보안)
└── faiss_index/                # 벡터 데이터베이스 (자동 생성)
```

## 🔧 PDF 문서 추가/변경

### 새 PDF 추가
1. `data/` 폴더에 PDF 파일을 복사합니다
2. 앱 사이드바에서 "🔄 시스템 초기화" 버튼을 클릭합니다
3. 새로운 PDF가 자동으로 처리됩니다

### 기존 PDF 변경
1. `data/` 폴더의 파일을 변경합니다
2. 앱 사이드바에서 "🔄 시스템 초기화" 버튼을 클릭합니다
3. 변경사항이 반영됩니다

## ⚙️ 기술 스택
- **프론트엔드**: Streamlit
- **LLM**: OpenAI GPT-3.5-turbo
- **RAG 프레임워크**: LangChain
- **벡터 데이터베이스**: FAISS
- **문서 처리**: PyPDF

## 🔐 API 키 관리
OpenAI API 키는 `.streamlit/secrets.toml` 파일에 안전하게 저장되어 있습니다.

## 📊 주요 기능
1. ✅ PDF 문서 자동 로딩 및 인덱싱
2. ✅ RAG 기반 정확한 답변 생성
3. ✅ 출처 문서 및 페이지 번호 표시
4. ✅ 대화 기록 관리
5. ✅ 사용자 친화적인 웹 인터페이스

## 🐛 문제 해결

### 앱이 시작되지 않는 경우
```bash
# 시스템 체크 스크립트 실행
python test_app.py
```

### PDF가 인식되지 않는 경우
1. `data/` 폴더에 PDF 파일이 있는지 확인
2. 파일 확장자가 `.pdf`인지 확인
3. 앱에서 "시스템 초기화" 버튼 클릭

### API 오류가 발생하는 경우
1. `.streamlit/secrets.toml` 파일의 API 키 확인
2. OpenAI API 크레딧 잔액 확인

## 📝 참고사항
- 첫 실행 시 PDF 인덱싱에 시간이 소요될 수 있습니다
- 인터넷 연결이 필요합니다 (OpenAI API 호출)
- 대용량 PDF의 경우 처리 시간이 증가할 수 있습니다

## 🎯 개발 정보
- 개발 환경: Python 3.13
- 개발 도구: Cursor (Vibe Coding)
- PRD 문서: prd.md 참조

